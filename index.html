<html>
<head>
  <meta charset="utf-8">
  <script src="https://js.braintreegateway.com/web/dropin/1.9.4/js/dropin.min.js"></script>
  <script src="http://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
</head>
<body>
  <div id="dropin-container"></div>
  <button id="submit-button">Request payment method</button>
  <script>
  var button = document.querySelector('#submit-button');


$.ajax({
  type: 'GET',
  dataType : 'jsonp',
  url: 'https://pumpkin-centipede-6684.twil.io/client_token?callback=?',
  success: function(res) {
    console.log(res);
    var client_token = res.clientToken;
  }
})

braintree.dropin.create(
  {
    authorization: clientToken,
    container: '#dropin-container'
  },
  function(createErr, instance) {
    button.addEventListener('click', function() {
      instance.requestPaymentMethod(function(err, payload) {
        // Submit payload.nonce to your server
      });
    });
  }
);
</script>
</body>
</html>
